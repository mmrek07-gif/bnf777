@echo off
chcp 65001 >nul
cls

echo.
echo ================================================================
echo        ?? AGRIEDU AI SUITE v2.0 - ???????????...
echo           ????????????? ????????? ??? ????????? ?????????
echo ================================================================
echo.
echo ????: %date%
echo ?????: %time%
echo.

echo [1] ?????? Backend API (???? 8000)...
start "AgriEdu Backend" cmd /k "cd /d %~dp0backend && py -3.11 -m uvicorn app.main:app --reload --host 127.0.0.1 --port 8000"
timeout /t 3 >nul

echo [2] ?????? Frontend ??????? (???? 5500)...
start "AgriEdu Frontend" cmd /k "cd /d %~dp0frontend && py -3.11 -m http.server 5500"
timeout /t 3 >nul

echo [3] ????????? ??????????...
start http://127.0.0.1:5500
timeout /t 2 >nul
start http://127.0.0.1:8000/api/docs
echo.

echo ? ??????? ????????!
echo.
echo ================================================================
echo ????????? ??????:
echo.
echo ? ???-?????????:    http://localhost:5500
echo ? API ????????????: http://localhost:8000/api/docs
echo ? HEALTH CHECK:     http://localhost:8000/api/health
echo ? ReDoc:           http://localhost:8000/api/redoc
echo.
echo ================================================================
echo ???????? ???????:
echo   ? kthi.mlg.expert
echo   ? ??? ??. ?. ??????????
echo.
echo ??????? ????? ??????? ??? ????????? ????????...
pause >nul

echo.
echo [4] ????????? ????????...
taskkill /f /im python.exe >nul 2>&1
taskkill /f /im cmd.exe /fi "WINDOWTITLE eq AgriEdu*" >nul 2>&1
echo ??????? ???????????.
timeout /t 2 >nul
